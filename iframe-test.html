<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Santa Vegas Widget - –¢–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        line-height: 1.6;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.95;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
      }

      .section h2 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 1.8rem;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
      }

      .section h3 {
        color: #764ba2;
        margin: 20px 0 10px 0;
        font-size: 1.3rem;
      }

      .instruction-box {
        background: #f8f9fa;
        border-left: 4px solid #667eea;
        padding: 20px;
        margin: 15px 0;
        border-radius: 4px;
      }

      .instruction-box ol {
        margin-left: 20px;
      }

      .instruction-box li {
        margin: 10px 0;
      }

      .code-block {
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 15px 0;
        font-family: 'Monaco', 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.5;
      }

      .code-block code {
        display: block;
      }

      .demo-section {
        background: #f0f0f0;
        padding: 30px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .demo-controls {
        display: flex;
        gap: 15px;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .demo-controls label {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        background: white;
        padding: 10px 20px;
        border-radius: 25px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .demo-controls label:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transform: translateY(-2px);
      }

      .demo-controls input[type='checkbox'] {
        width: 20px;
        height: 20px;
        cursor: pointer;
      }

      #widgetFrame {
        width: 100%;
        height: 256px;
        border: 2px solid #667eea;
        border-radius: 8px;
        background: rgb(34, 0, 65);
      }

      .info-box {
        background: #e7f3ff;
        border: 2px solid #2196f3;
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
      }

      .info-box strong {
        color: #1976d2;
      }

      .event-log {
        background: white;
        border: 2px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        max-height: 200px;
        overflow-y: auto;
        font-family: monospace;
        font-size: 13px;
        margin-top: 20px;
      }

      .event-log .event {
        padding: 5px;
        margin: 3px 0;
        background: #f5f5f5;
        border-radius: 3px;
      }

      .event-log .event.received {
        background: #e8f5e9;
        color: #2e7d32;
      }

      .event-log .event.sent {
        background: #e3f2fd;
        color: #1565c0;
      }

      .highlight {
        background: #fff59d;
        padding: 2px 4px;
        border-radius: 3px;
      }

      .group-description {
        background: #f0f8ff;
        border: 2px solid #667eea;
        border-radius: 8px;
        padding: 15px;
        margin: 15px 0;
        font-size: 14px;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h1>üéÖ Santa Vegas Widget</h1>
        <p>–¢–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó</p>
      </div>

      <div class="content">
        <!-- –î–µ–º–æ —Å–µ–∫—Ü–∏—è -->
        <div class="section">
          <h2>üì∫ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–∂–µ—Ç–∞</h2>
          <div class="demo-section">
            <div class="demo-controls">
              <label>
                <input type="radio" name="widgetGroup" value="group1" checked />
                <span>–ì—Ä—É–ø–∞ 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ä–µ–∂–∏–º (–∑—ñ –∑–≤–µ–∑–¥–æ—é)</span>
              </label>
              <label>
                <input type="radio" name="widgetGroup" value="group2" />
                <span>–ì—Ä—É–ø–∞ 2: –ê–∫—Ç–∏–≤–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞ (–°–∞–Ω—Ç–∞)</span>
              </label>
              <label>
                <input type="radio" name="widgetGroup" value="group3" />
                <span>–ì—Ä—É–ø–∞ 3: –ü–æ–π–º–∞–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞ (–±–µ–∑ –°–∞–Ω—Ç–∏)</span>
              </label>
              <label>
                <input type="checkbox" id="debugZones" />
                <span>üîç –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ –∑–æ–Ω–∏</span>
              </label>
            </div>

            <div class="group-description" id="groupDescription">
              <p>
                <strong>–ì—Ä—É–ø–∞ 1:</strong> –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ª–æ–≥–æ—Ç–∏–ø
                Santa Vegas —ñ–∑ –ø—ñ–¥—Å–≤—ñ—á–µ–Ω–æ—é –∑—ñ—Ä–∫–æ—é. –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∑—ñ—Ä–∫—É
                –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è —Ä–µ–∂–∏–º Group 2.
              </p>
            </div>

            <div style="position: relative; display: inline-block; width: 100%">
              <iframe
                id="widgetFrame"
                src="index.html"
                style="
                  width: 100%;
                  height: 256px;
                  border: 2px solid #667eea;
                  border-radius: 8px;
                  background: rgb(34, 0, 65);
                  display: block;
                "
              ></iframe>

              <!-- Debug zones overlay -->
              <div
                id="debugOverlay"
                style="
                  display: none;
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  pointer-events: none;
                  z-index: 999;
                "
              >
                <!-- Star Click Zone (–∫—Ä–∞—Å–Ω–∏–π) -->
                <div
                  style="
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -57%);
                    width: 13cqw;
                    height: min(22cqw, 180px);
                    background: rgba(255, 0, 0, 0.3);
                    border: 2px solid red;
                  "
                >
                  <div
                    style="
                      /* background: red; */
                      color: white;
                      padding: 4px 8px;
                      font-size: 11px;
                      font-weight: bold;
                      border-radius: 3px;
                    "
                  >
                    Star
                  </div>
                </div>
                <!-- Santa Top Zone (–∑–µ–ª–µ–Ω–∏–π) -->
                <div
                  style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 30%;
                    background: rgba(0, 255, 0, 0.2);
                    border: 2px solid lime;
                  "
                >
                  <div
                    style="
                      /* background: lime; */
                      color: white;
                      padding: 4px 8px;
                      font-size: 11px;
                      font-weight: bold;
                      border-radius: 3px;
                    "
                  >
                    Santa Top
                  </div>
                </div>
                <!-- Santa Bottom Zone (—Å–∏–Ω—ñ–π) -->
                <div
                  style="
                    position: absolute;
                    bottom: 0%;
                    left: 0;
                    width: 100%;
                    height: 40%;
                    background: rgba(0, 0, 255, 0.2);
                    border: 2px solid blue;
                  "
                >
                  <div
                    style="
                      /* background: blue; */
                      color: white;
                      padding: 4px 8px;
                      font-size: 11px;
                      font-weight: bold;
                      border-radius: 3px;
                    "
                  >
                    Santa Bottom
                  </div>
                </div>
              </div>
            </div>

            <div class="event-log" id="eventLog">
              <div><strong>–ñ—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π:</strong></div>
            </div>
          </div>
        </div>

        <!-- –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è -->
        <div class="section">
          <h2>üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–∂–µ—Ç–∞</h2>

          <div class="instruction-box">
            <h3>1. –î–æ–¥–∞–π—Ç–µ iframe –Ω–∞ –≤–∞—à—É —Å—Ç–æ—Ä—ñ–Ω–∫—É</h3>
            <p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π URL –¥–ª—è –≤—ñ–¥–∂–µ—Ç–∞:</p>
            <div class="code-block">
              <code
                >&lt;iframe
                src="https://rocketplay-bonuses.club/santa_vegas_easter_egg/index.html"
                style="border: none; background: transparent;" frameborder="0"
                scrolling="no" &gt;&lt;/iframe&gt;</code
              >
            </div>
            <p style="margin-top: 10px">
              <span class="highlight">background: transparent</span> - –¥–ª—è
              –ø—Ä–æ–∑–æ—Ä–æ–≥–æ —Ñ–æ–Ω—É
            </p>
          </div>

          <div class="instruction-box">
            <h3>2. URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</h3>
            <ul>
              <li>
                <span class="highlight">?showSanta=false</span> - –≤–∏–º–∏–∫–∞—î
                –∞–Ω—ñ–º–∞—Ü—ñ—é –°–∞–Ω—Ç–∏ (–¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ –≤–∂–µ —Å–ø—ñ–π–º–∞–ª–∏ –°–∞–Ω—Ç—É)
              </li>
              <li>
                –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ - –≤—ñ–¥–∂–µ—Ç –ø—Ä–∞—Ü—é—î –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ —ñ
                –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ localStorage
              </li>
            </ul>
            <p style="margin-top: 10px">
              <strong>–î–ª—è —Ç–µ—Å—Ç–æ–≤–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏:</strong>
            </p>
            <ul>
              <li>
                <span class="highlight">?starClicked=true</span> - –µ–º—É–ª—è—Ü—ñ—è
                –∞–∫—Ç–∏–≤–Ω–æ—ó –ø–∞—Å—Ö–∞–ª–∫–∏ (–ì—Ä—É–ø–∞ 2). –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è
                —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –Ω–∞ –ø—Ä–æ–¥—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω.
              </li>
            </ul>
          </div>

          <div class="instruction-box">
            <h3>3. localStorage —Ç–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –≤—ñ–¥–∂–µ—Ç–∞</h3>
            <p>
              –í—ñ–¥–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω –≤–∑–∞—î–º–æ–¥—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤
              localStorage –±—Ä–∞—É–∑–µ—Ä–∞:
            </p>
            <ul>
              <li>
                <strong>–ö–ª—é—á:</strong>
                <code>santaClicked</code>
              </li>
              <li>
                <strong>–ó–Ω–∞—á–µ–Ω–Ω—è:</strong>
                <code>"true"</code> - —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–ø—ñ–π–º–∞–≤ –°–∞–Ω—Ç—É
              </li>
            </ul>

            <p style="margin-top: 15px">
              <strong>–†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏ –≤—ñ–¥–∂–µ—Ç–∞:</strong>
            </p>
            <ul>
              <li>
                <strong>–ì—Ä—É–ø–∞ 1 (–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ä–µ–∂–∏–º):</strong> –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
                –ª–æ–≥–æ—Ç–∏–ø —ñ–∑ –∑—ñ—Ä–∫–æ—é. –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∑—ñ—Ä–∫—É –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–∏–π
                —Ä–µ–∂–∏–º —ñ –∑'—è–≤–ª—è—î—Ç—å—Å—è –∞–Ω—ñ–º–∞—Ü—ñ—è –°–∞–Ω—Ç–∏.
              </li>
              <li>
                <strong>–ì—Ä—É–ø–∞ 2 (–ê–∫—Ç–∏–≤–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞):</strong> –ü—ñ—Å–ª—è –∫–ª—ñ–∫—É –Ω–∞
                –∑—ñ—Ä–∫—É - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è –≥—ñ—Ä–ª—è–Ω–¥ (party mode) —Ç–∞
                –ø—Ä–æ–ª—ñ—Ç–∞—é—á–∏–π –°–∞–Ω—Ç–∞. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∫–ª—ñ–∫–Ω—É—Ç–∏ –Ω–∞ –°–∞–Ω—Ç—É —â–æ–± –π–æ–≥–æ
                "—Å–ø—ñ–π–º–∞—Ç–∏".
              </li>
              <li>
                <strong>–ì—Ä—É–ø–∞ 3 (–ü–æ–π–º–∞–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞):</strong> –Ø–∫—â–æ
                <code>santaClicked = "true"</code> –≤ localStorage - –≤—ñ–¥–∂–µ—Ç
                –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–∏–π —Ä–µ–∂–∏–º –ë–ï–ó –∞–Ω—ñ–º–∞—Ü—ñ—ó –°–∞–Ω—Ç–∏.
                –ó—ñ—Ä–∫–∞ –ø—Ä–∏—Ö–æ–≤—É—î—Ç—å—Å—è, –∫–ª—ñ–∫ –Ω–∞ –Ω–µ—ó –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î –°–∞–Ω—Ç—É.
              </li>
            </ul>

            <p style="margin-top: 15px">
              <strong>‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ:</strong> –ü—ñ—Å–ª—è —Ç–æ–≥–æ —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–ø—ñ–π–º–∞–≤
              –°–∞–Ω—Ç—É, –∑–∞–ø–∏—Å <code>santaClicked: "true"</code> –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤
              localStorage –Ω–∞–∑–∞–≤–∂–¥–∏. –ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤—ñ–¥–∂–µ—Ç
              –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É —Ä–µ–∂–∏–º –ì—Ä—É–ø–∞ 3 (–ø—Ä–∞–∑–¥–Ω–∏—á–Ω–∏–π –±–µ–∑ –°–∞–Ω—Ç–∏).
            </p>
          </div>

          <div class="instruction-box">
            <h3>4. postMessage –ø–æ–¥—ñ—ó</h3>
            <p>
              –í—ñ–¥–∂–µ—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–¥—ñ—ó –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–º—É –≤—ñ–∫–Ω—É –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ —Ç–∞
              –æ–±—Ä–æ–±–∫–∏ –≤–∑–∞—î–º–æ–¥—ñ–π:
            </p>
            <ul>
              <li>
                <code
                  >{ type: 'santaClicked', source: 'santa-vegas-widget' }</code
                >
                - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–ø—ñ–π–º–∞–≤ –°–∞–Ω—Ç—É (–≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –ø—Ä–æ–º–æ)
              </li>
              <li>
                <code>{ type: 'sound_on', source: 'santa-vegas-widget' }</code>
                - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —É–≤—ñ–º–∫–Ω—É–≤ –∑–≤—É–∫
              </li>
              <li>
                <code>{ type: 'sound_off', source: 'santa-vegas-widget' }</code>
                - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–º–∫–Ω—É–≤ –∑–≤—É–∫
              </li>
            </ul>

            <p style="margin-top: 15px"><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥—ñ–π:</strong></p>
            <div class="code-block">
              <code
                >interface SantaClickedEvent { type: 'santaClicked'; source:
                'santa-vegas-widget'; } interface SoundEvent { type: 'sound_on'
                | 'sound_off'; source: 'santa-vegas-widget'; }</code
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // –û—á–∏—â—É—î–º–æ localStorage –ø—Ä–∏ –∑–∞–≥—Ä—É–∑—Ü—ñ —Ç–µ—Å—Ç–æ–≤–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç—É
      localStorage.removeItem('santaClicked')

      // –õ–æ–≥—ñ–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
      const widgetFrame = document.getElementById('widgetFrame')
      const eventLog = document.getElementById('eventLog')
      const groupDescription = document.getElementById('groupDescription')
      const groupRadios = document.querySelectorAll('input[name="widgetGroup"]')
      const debugZonesCheckbox = document.getElementById('debugZones')
      const debugOverlay = document.getElementById('debugOverlay')

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–±–æ–∫—Å–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–∏—Ö –∑–æ–Ω
      debugZonesCheckbox.addEventListener('change', function () {
        debugOverlay.style.display = this.checked ? 'block' : 'none'
      })

      const groupDescriptions = {
        group1:
          '<p><strong>–ì—Ä—É–ø–∞ 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ä–µ–∂–∏–º</strong></p><p>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ª–æ–≥–æ—Ç–∏–ø Santa Vegas —ñ–∑ –ø—ñ–¥—Å–≤—ñ—á–µ–Ω–æ—é –∑—ñ—Ä–∫–æ—é. –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∑—ñ—Ä–∫—É –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è —Ä–µ–∂–∏–º Group 2.</p>',
        group2:
          '<p><strong>–ì—Ä—É–ø–∞ 2: –ê–∫—Ç–∏–≤–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞</strong></p><p>–ü—ñ—Å–ª—è –∫–ª—ñ–∫—É –Ω–∞ –∑—ñ—Ä–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É –∞–Ω—ñ–º–∞—Ü—ñ—é –≥—ñ—Ä–ª—è–Ω–¥ —Ç–∞ –ø—Ä–æ–ª—ñ—Ç–∞—é—á–æ–≥–æ –°–∞–Ω—Ç—É. –ì—ñ—Ä–ª—è–Ω–¥–∏ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–∞ party –≤–µ—Ä—Å—ñ—é, –∑\'—è–≤–ª—è—î—Ç—å—Å—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–∞—è –ø—ñ–¥—Å–≤—ñ—Ç–∫–∞. –ú–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–ª—ñ–∫ –Ω–∞ –°–∞–Ω—Ç—É —â–æ–± –π–æ–≥–æ "–ø–æ–π–º–∞—Ç–∏".</p><p><strong>–í–∞–∂–ª–∏–≤–æ:</strong> –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–ª–∏–∫–∞—î –ø–æ –°–∞–Ω—Ç—ñ, —Ü–µ –¥—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ localStorage (santaClicked=true). –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∑—ñ—Ä–∫—É –±—ñ–ª—å—à–µ –Ω–µ –±—É–¥–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—å –∞–Ω—ñ–º–∞—Ü—ñ—è –°–∞–Ω—Ç–∏, —ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–π–¥–µ –¥–æ –ì—Ä—É–ø–∏ 3 (–ü–æ–π–º–∞–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞).</p>',
        group3:
          '<p><strong>–ì—Ä—É–ø–∞ 3: –ü–æ–π–º–∞–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞</strong></p><p>–ü—ñ—Å–ª—è —Ç–æ–≥–æ —è–∫ –°–∞–Ω—Ç–∞ –±—É–≤ –ø–æ–π–º–∞–Ω–∏–π (–∞–±–æ –ø—Ä–∏ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ ?showSanta=false), –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—É –≤–µ—Ä—Å—ñ—é –ª–æ–≥–æ –±–µ–∑ –∞–Ω—ñ–º–∞—Ü—ñ—ó –°–∞–Ω—Ç–∏. –ó–≤–µ–∑–¥–∞ —Ç–∞ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ –∑–æ–Ω–∏ –°–∞–Ω—Ç–∏ –Ω–µ –≤–∏–¥–Ω—ñ.</p>',
      }

      // –§—É–Ω–∫—Ü—ñ—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π
      function logEvent(message, type = 'info') {
        const eventDiv = document.createElement('div')
        eventDiv.className = `event ${type}`
        const timestamp = new Date().toLocaleTimeString('uk-UA')
        eventDiv.textContent = `[${timestamp}] ${message}`
        eventLog.appendChild(eventDiv)
        eventLog.scrollTop = eventLog.scrollHeight
      }

      // –û–±—Ä–æ–±–∫–∞ –∑–º—ñ–Ω–∏ –≥—Ä—É–ø–∏
      groupRadios.forEach(radio => {
        radio.addEventListener('change', function () {
          const selectedGroup = this.value
          logEvent(`–í–∏–±—Ä–∞–Ω–æ: ${this.nextElementSibling.textContent}`, 'info')

          // –û–Ω–æ–≤–ª—è—î–º–æ –æ–ø–∏—Å –≥—Ä—É–ø–∏
          groupDescription.innerHTML = groupDescriptions[selectedGroup]

          // –û—á–∏—â—É—î–º–æ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–∞ localStorage –î–û –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É
          if ('caches' in window) {
            caches.keys().then(cacheNames => {
              cacheNames.forEach(cacheName => {
                caches.delete(cacheName)
              })
            })
          }

          // –í–°–ï–ì–î–ê –æ—á–∏—â–∞—î–º–æ localStorage —Å–ø–æ—á–∞—Ç–∫—É
          localStorage.removeItem('santaClicked')
          logEvent('–û—á–∏—â–µ–Ω–æ: –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–∞ localStorage', 'info')

          // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω localStorage –¢–û–õ–¨–ö–û –¥–ª—è –ì—Ä—É–ø–∏ 3
          if (selectedGroup === 'group1') {
            logEvent(
              '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ì—Ä—É–ø–∏ 1: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ä–µ–∂–∏–º (–∑—ñ –∑–≤–µ–∑–¥–æ—é)',
              'info'
            )
          } else if (selectedGroup === 'group2') {
            // –ì—Ä—É–ø–∞ 2: –∞–∫—Ç–∏–≤–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞ - –°–∞–Ω—Ç–∞ –ù–ï –ø–æ–π–º–∞–Ω–∞
            logEvent(
              '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ì—Ä—É–ø–∏ 2: –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è + –ø—Ä–æ–ª—ñ—Ç–∞—é—á–∏–π –°–∞–Ω—Ç–∞',
              'info'
            )
          } else if (selectedGroup === 'group3') {
            // –ì—Ä—É–ø–∞ 3: –ø–æ–π–º–∞–Ω–∞ –ø–∞—Å—Ö–∞–ª–∫–∞ - –°–∞–Ω—Ç–∞ –≤–∂–µ –ø–æ–π–º–∞–Ω–∏–π
            localStorage.setItem('santaClicked', 'true')
            logEvent(
              '–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: santaClicked = true (–°–∞–Ω—Ç–∞ –ø–æ–π–º–∞–Ω–∏–π)',
              'info'
            )
            logEvent('–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ì—Ä—É–ø–∏ 3: –±–µ–∑ –°–∞–Ω—Ç–∏ (—Ä–µ–∂–∏–º –ø–æ–π–º–∞–Ω–Ω—è)', 'info')
          }

          // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π URL –¥–ª—è iframe
          let newUrl = 'index.html'
          if (selectedGroup === 'group2') {
            // –ì—Ä—É–ø–∞ 2: –∑–≤–µ–∑–¥–∞ —É–∂–µ –∫–ª–∏–∫–Ω—É—Ç–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ä–µ–∂–∏–º —Å –°–∞–Ω—Ç–æ–π
            newUrl = 'index.html?starClicked=true'
          } else if (selectedGroup === 'group3') {
            // –ì—Ä—É–ø–∞ 3: –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –°–∞–Ω—Ç—É
            newUrl = 'index.html?showSanta=false'
          }

          widgetFrame.src = newUrl
        })
      })

      // –°–ª—É—Ö–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ –≤—ñ–¥–∂–µ—Ç–∞
      window.addEventListener('message', function (event) {
        if (event.data && event.data.source === 'santa-vegas-widget') {
          // –ö–ª—ñ–∫ –ø–æ –°–∞–Ω—Ç—ñ
          if (event.data.type === 'santaClicked') {
            logEvent('üéÖ –°–∞–Ω—Ç–∞ –∫–ª—ñ–∫–Ω—É—Ç–æ!', 'received')
            alert('–í–∏ —Å–ø—ñ–π–º–∞–ª–∏ –°–∞–Ω—Ç—É! üéÑ‚ú®')
          }
          // –ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω–æ
          if (event.data.type === 'sound_on') {
            logEvent('üîä –ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω–æ', 'received')
          }
          // –ó–≤—É–∫ –≤–∏–º–∫–Ω–µ–Ω–æ
          if (event.data.type === 'sound_off') {
            logEvent('üîá –ó–≤—É–∫ –≤–∏–º–∫–Ω–µ–Ω–æ', 'received')
          }
        }
      })

      // –ü–æ—á–∞—Ç–∫–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
      logEvent('–¢–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≥–æ—Ç–æ–≤–∞. –û—á—ñ–∫—É—î–º–æ –ø–æ–¥—ñ—ó –≤—ñ–¥ –≤—ñ–¥–∂–µ—Ç–∞...', 'info')
    </script>
  </body>
</html>
